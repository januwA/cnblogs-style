<div id="progressbar"></div>
<div id="scrollPath"></div>
<script>
  {
    const progress = document.querySelector("#progressbar");
    // body整个高度 - 窗口可视高度
    let totalHeight = document.body.scrollHeight - window.innerHeight;

    window.addEventListener("scroll", update);
    window.addEventListener("resize", () => {
      totalHeight = document.body.scrollHeight - window.innerHeight;
      update();
    });

    function update() {
      // 滚动距离 / totalHeight * 100
      const progressHeight = (window.pageYOffset / totalHeight) * 100;
      progress.style.width = progressHeight + "%";
    }
  }
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/x86asm.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/nginx.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/apache.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/c.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/cpp.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/typescript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/dart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/lisp.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/lua.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/perl.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.1.0/languages/shell.min.js"></script>
<script>
  hljs.registerAliases("asm", { languageName: "x86asm" });
  hljs.registerAliases("ts", { languageName: "typescript" });
  hljs.registerAliases("sh", { languageName: "shell" });
  hljs.initHighlighting();
</script>

<!-- 打赏 -->
<section id="qrcodes">
  <figure>
    <img
      src="https://i.loli.net/2020/11/03/bRI9XgPuUkqrvos.png"
      alt="微信打赏"
    />
    <figcaption>微信打赏</figcaption>
  </figure>
  <figure>
    <img
      src="https://i.loli.net/2020/11/03/TmlBLzAOasZ94GE.png"
      alt="支付宝打赏"
    />
    <figcaption>支付宝打赏</figcaption>
  </figure>
  <figure>
    <img src="https://i.loli.net/2020/11/03/uLlfsYBgH45P72C.png" alt="Paypal" />
    <figcaption>Paypal</figcaption>
  </figure>
</section>

<script>
  const parent = document.querySelector("#cnblogs_post_body");
  const data = document.querySelector("#qrcodes");
  if (parent) parent.append(data);
  else data.remove();
</script>
