<section id="ajanuw-deluge" style="display: none;">
  <div class="ajanuw-deluge__header">此页面是否对您有帮助？</div>
  <div class="ajanuw-deluge__vote">
    <a id="ajanuw-deluge__vote-up" title="👍🎉🎉🎉">yes</a>
    <a
      href="https://msg.cnblogs.com/send?recipient=Ajanuw"
      target="_blank"
      id="ajanuw-deluge__vote-down"
      title="帮助我改进此页面。"
      >no</a
    >
  </div>
</section>
<script>
  (() => {
    setTimeout(() => {
      // 页面右下角提示
      if (document.location.pathname.startsWith("/ajanuw/p")) {
        document.querySelector("#ajanuw-deluge").style.display = "block";
        document
          .querySelector("#ajanuw-deluge__vote-up")
          .addEventListener("click", () => {
            document.querySelector("#div_digg .diggit").click();
          });
      }
    }, 2000);
  })();
</script>

<div id="progressbar"></div>
<div id="scrollPath"></div>
<script>
  {
    const progress = document.querySelector("#progressbar");
    // body整个高度 - 窗口可视高度
    let totalHeight = document.body.scrollHeight - window.innerHeight;

    window.addEventListener("scroll", update);
    window.addEventListener("resize", () => {
      totalHeight = document.body.scrollHeight - window.innerHeight;
      update();
    });

    function update() {
      // 滚动距离 / totalHeight * 100
      const progressHeight = (window.pageYOffset / totalHeight) * 100;
      progress.style.width = progressHeight + "%";
    }
  }
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/x86asm.min.js"></script>
<script>
  hljs.registerAliases("asm", { languageName: "x86asm" });
  hljs.registerAliases("ts", { languageName: "typescript" });
  hljs.registerAliases("sh", { languageName: "shell" });
  hljs.initHighlighting();
</script>
